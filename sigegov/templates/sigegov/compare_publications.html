{% extends "sigegov/base.html" %}

{% load i18n %}
{% block content-body %}
{% load comments %}
<!--<br/><br/><br/><br/><br/><br/><br/><br/><br/> -->
<!--<center><h1>{{ pub.project_title }} </h1></center><br/>

<div style="float:left;">
<br/>
<! <p>{{ count }} upvotes </p
{% ifequal flag 1 %}
<a href="/sigegov/process_downvote/{{ pub.id }}"><button type="button" class="btn btn-primary btn-lg"><span class="glyphicon glyphicon-arrow-up"></span></button></a>
{% endifequal %}
{% ifequal flag 0 %}
<a href="/sigegov/process_upvote/{{pub.id}}">
<button type="button" class="btn btn-default btn-lg"><span class="glyphicon glyphicon-arrow-up"></span></button>
</a>
{% endifequal %} 
<br/>
<button class="btn btn-primary" style="width:91%;"><span style="text-align:center;"><h4>{{ count }}</h4></span></button>
</div-->
<!-- TABLE CONTENTS -->
<script type = "text/javascript">

/*
Please consider that the JS part isn't production ready at all, I just code it to show the concept of merging filters and titles together !
*/
$(document).ready(function(){
    $('.filterable .btn-filter').click(function(){
        var $panel = $(this).parents('.filterable'),
        $filters = $panel.find('.filters input'),
        $tbody = $panel.find('.table tbody');
        if ($filters.prop('disabled') == true) {
            $filters.prop('disabled', false);
            $filters.first().focus();
        } else {
            $filters.val('').prop('disabled', true);
            $tbody.find('.no-result').remove();
            $tbody.find('tr').show();
        }
    });

    $('.filterable .filters input').keyup(function(e){
        /* Ignore tab key */
        var code = e.keyCode || e.which;
        if (code == '9') return;
        /* Useful DOM data and selectors */
        var $input = $(this),
        inputContent = $input.val().toLowerCase(),
        $panel = $input.parents('.filterable'),
        column = $panel.find('.filters th').index($input.parents('th')),
        $table = $panel.find('.table'),
        $rows = $table.find('tbody tr');
        /* Dirtiest filter function ever ;) */
        var $filteredRows = $rows.filter(function(){
            var value = $(this).find('td').eq(column).text().toLowerCase();
            return value.indexOf(inputContent) === -1;
        });
        /* Clean previous no-result if exist */
        $table.find('tbody .no-result').remove();
        /* Show all rows, hide filtered ones (never do that outside of a demo ! xD) */
        $rows.show();
        $filteredRows.hide();
        /* Prepend no-result row if all rows are filtered */
        if ($filteredRows.length === $rows.length) {
            $table.find('tbody').prepend($('<tr class="no-result text-center"><td colspan="'+ $table.find('.filters th').length +'">No result found</td></tr>'));
        }
    });
});
</script>
<table >
<tr>

    <!--<div style="margin: auto;width:75%;float:center;" id="ContentTable">--> 
    
    <td>
    
        <div class="panel panel-primary filterable">
            <div class="panel-heading">
                <h3 class="panel-title">Project Details</h3>
                <div class="pull-right">
                    <button class="btn btn-default btn-xs btn-filter"><span class="glyphicon glyphicon-filter"></span> Filter </button>
                </div>
            </div>
            <table class="table">
                <thead>
                    <tr class="filters">
                        <th><input type="text" class="form-control" placeholder="Name" disabled></th>
                        <th><input type="text" class="form-control" placeholder="Description" disabled></th>
                </thead>
                <tbody>
                    <tr>
                        <td> Project Title </td>
                        <td> {{ pub.project_title }} </td>
                    </tr>

  <tr>  
    <td >Document Id</td>
    <td >{{ pubs[i].document_id }}</td>
    <td >{{ pubs[i+1].document_id }}</td>
    
  </tr>
  <tr>
    <td >Department Name</td>
    <td >{{pub.department_name}}</td>
  </tr>
  <tr>
    <td >Name </td>
    <td >{{pub.name_1}}</td>
  </tr>
  <tr>
    <td >Designation</td>
    <td >{{pub.designation_1}}</td>
  </tr>
  <tr>
    <td >Email</td>
    <td >{{pub.email_1}}</td>
  </tr>
  <tr>
    <td >Address</td>
    <td >{{pub.address_1}}</td>
  </tr>
  <tr>
    <td >Phone</td>
    <td >{{pub.phone_1}}</td>
  </tr>
  <tr>
    <td >Fax</td>
    <td >{{pub.fax_1}}</td>
  </tr>
  <tr>
    <td >Mobile</td>
    <td >{{pub.mobile_1}}</td>
  </tr>
  <tr>
    <td >Name </td>
    <td >{{pub.name_2}}</td>
  </tr>
  <tr>
    <td >Designation</td>
    <td >{{pub.designation_2}}</td>
  </tr>
  <tr>
    <td >Email</td>
    <td >{{pub.email_2}}</td>
  </tr>
  <tr>
    <td >Address</td>
    <td >{{pub.address_2}}</td>
  </tr>
  <tr>
    <td >Phone</td>
    <td >{{pub.phone_2}}</td>
  </tr>
  <tr>
    <td >Fax</td>
    <td >{{pub.fax_2}}</td>
  </tr>
  <tr>
    <td >Mobile</td>
    <td >{{pub.mobile_2}}</td>
  </tr>
  <tr>
    <td >Category</td>
    <td >{{pub.category}}</td>
  </tr>
  <tr>
    <td >Nature</td>
    <td >{{pub.nature}}</td>
  </tr>
  <tr>
    <td >Description</td>
    <td >{{pub.description}}</td>
  </tr>
  <tr>
    <td >Date</td>
    <td >{{pub.date}}</td>
  </tr>
  <tr>
    <td >URL</td>
    <td ><a style="color:blue;" href={{pub.url}}>{{pub.url}}</a></td>
  </tr>
  <tr>
    <td >Business Model</td>
    <td >{{pub.business_model}}</td>
  </tr>
  <tr>
    <td >No. of Process</td>
    <td >{{pub.no_process}}</td>
  </tr>
  <tr>
    <td >Beneficiary 1</td>
    <td >{{pub.beneficiary_1}}</td>
  </tr>
  <tr>
    <td >Beneficiary 2</td>
    <td >{{pub.beneficiary_2}}</td>
  </tr>
  <tr>
    <td >Beneficiary 3</td>
    <td >{{pub.beneficiary_3}}</td>
  </tr>
  <tr>
    <td >Transaction</td>
    <td >{{pub.transaction}}</td>
  </tr>
  <tr>
    <td >Benefit 1</td>
    <td >{{pub.benefit_1}}</td>
  </tr>
  <tr>
    <td >Benefit 2</td>
    <td >{{pub.benefit_2}}</td>
  </tr>
  <tr>
    <td >Benefit 3</td>
    <td >{{pub.benefit_3}}</td>
  </tr>
  <tr>
    <td >Process 1</td>
    <td >{{pub.process_1}}</td>
  </tr>
  <tr>
    <td >Process 2</td>
    <td >{{pub.process_2}}</td>
  </tr>
  <tr>
    <td >Database</td>
    <td >{{pub.database}}</td>
  </tr>
  <tr>
    <td >OS</td>
    <td >{{pub.operating}}</td>
  </tr>
  <tr>
    <td >Web Server</td>
    <td >{{pub.web_server}}</td>
  </tr>
  <tr>
    <td >Prime Agency</td>
    <td >{{pub.prime_agency}}</td>
  </tr>
  <tr>
    <td >Network Arrangement</td>
    <td >{{pub.network_arrangement}}</td>
  </tr>
  <tr>
    <td >Datacenter</td>
    <td >{{pub.datacenter}}</td>
  </tr>
  <tr>
    <td >CSC</td>
    <td >{{pub.csc}}</td>
  </tr>
  <tr>
    <td >Formal Document</td>
    <td >{{pub.formal_document}}</td>
  </tr>
  <tr>
    <td >Implementation</td>
    <td >{{pub.implementation}}</td>
  </tr>
  <tr>
    <td >Training Program</td>
    <td >{{pub.no_training}}</td>
  </tr>
  <tr>
    <td >Sector</td>
    <td >{{pub.sector}}</td>
  </tr>
  <tr>
    <td >Sub Sector</td>
    <td >{{pub.sub_sector}}</td>
  </tr>
  <tr>
    <td >State</td>
    <td >{{pub.state}}</td>
  </tr>
                </tbody>
            </table>
        </div>
    </td>
  {% endfor %}
  </tr></table>
<!--TABLE CONTENT END -->
{% endblock %}
